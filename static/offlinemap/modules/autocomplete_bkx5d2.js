/**/﻿_jsload&&_jsload('autocomplete', 'var jZ,gY=jZ=gY||{version:"1.3.4"};gY.guid="$BAIDU$";window[gY.guid]=window[gY.guid]||{};gY.object=gY.object||{};gY.extend=gY.object.extend=function(T,e){for(var i in e){if(e.hasOwnProperty(i)){T[i]=e[i]}}return T};gY.dom=gY.dom||{};gY.dom.g=function(e){if("string"==typeof e||e instanceof String){return document.getElementById(e)}else{if(e&&e.nodeName&&(e.nodeType==1||e.nodeType==9)){return e}}return null};gY.g=gY.G=gY.dom.g;gY.dom.hide=function(e){e=gY.dom.g(e);if(e===null){return e}e.style.display="none";return e};gY.hide=gY.dom.hide;gY.lang=gY.lang||{};gY.lang.isString=function(e){return"[object String]"==Object.prototype.toString.call(e)};gY.isString=gY.lang.isString;gY.lang.isEmptyObject=function(T){if(Object.prototype.toString.call(T)==="[object Object]"){for(var e in T){return false}return true}else{return false}return"[object String]"==Object.prototype.toString.call(T)};gY.isEmptyObject=gY.lang.isEmptyObject;gY.dom._g=function(e){if(gY.lang.isString(e)){return document.getElementById(e)}return e};gY._g=gY.dom._g;gY.dom.getElementsByClassName=function(e,i){if(e.getElementsByClassName){return e.getElementsByClassName(i)}else{return(function T(kJ,kH){if(kH==null){kH=document}var kG=[],kF=kH.getElementsByTagName("*"),kC=kF.length,kI=new RegExp("(^|\\\\s)"+kJ+"(\\\\s|$)"),kE,kD;for(kE=0,kD=0;kE<kC;kE++){if(kI.test(kF[kE].className)){kG[kD]=kF[kE];kD++}}return kG})(i,e)}};gY.getElementsByClassName=gY.dom.getElementsByClassName;gY.dom.contains=function(e,i){var T=gY.dom._g;e=T(e);i=T(i);return e.contains?e!=i&&e.contains(i):!!(e.compareDocumentPosition(i)&16)};gY.browser=gY.browser||{};if(/msie (\\d+\\.\\d)/i.test(navigator.userAgent)){gY.browser.ie=gY.ie=document.documentMode||+RegExp["\\x241"]}gY.dom._NAME_ATTRS=(function(){var e={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",usemap:"useMap",frameborder:"frameBorder"};if(gY.browser.ie<8){e["for"]="htmlFor";e["class"]="className"}else{e.htmlFor="for";e.className="class"}return e})();gY.dom.setAttr=function(i,e,T){i=gY.dom.g(i);if(i===null){return i}if("style"==e){i.style.cssText=T}else{e=gY.dom._NAME_ATTRS[e]||e;i.setAttribute(e,T)}return i};gY.setAttr=gY.dom.setAttr;gY.dom.setAttrs=function(T,e){T=gY.dom.g(T);if(T===null){return T}for(var i in e){gY.dom.setAttr(T,i,e[i])}return T};gY.setAttrs=gY.dom.setAttrs;gY.string=gY.string||{};(function(){var e=new RegExp("(^[\\\\s\\\\t\\\\xa0\\\\u3000]+)|([\\\\u3000\\\\xa0\\\\s\\\\t]+\\x24)","g");gY.string.trim=function(i){return String(i).replace(e,"")}})();gY.trim=gY.string.trim;gY.string.format=function(T,e){T=String(T);var i=Array.prototype.slice.call(arguments,1),kC=Object.prototype.toString;if(i.length){i=i.length==1?(e!==null&&(/\\[object Array\\]|\\[object Object\\]/.test(kC.call(e)))?e:i):i;return T.replace(/#\\{(.+?)\\}/g,function(kD,kF){var kE=i[kF];if("[object Function]"==kC.call(kE)){kE=kE(kF)}return("undefined"==typeof kE?"":kE)})}return T};gY.format=gY.string.format;gY.dom.removeClass=function(kF,kG){kF=gY.dom.g(kF);if(kF===null){return kF}var kD=kF.className.split(/\\s+/),kH=kG.split(/\\s+/),T,e=kH.length,kC,kE=0;for(;kE<e;++kE){for(kC=0,T=kD.length;kC<T;++kC){if(kD[kC]==kH[kE]){kD.splice(kC,1);break}}}kF.className=kD.join(" ");return kF};gY.removeClass=gY.dom.removeClass;gY.dom.insertHTML=function(kC,e,T){kC=gY.dom.g(kC);if(kC===null){return kC}var i,kD;if(kC.insertAdjacentHTML){kC.insertAdjacentHTML(e,T)}else{i=kC.ownerDocument.createRange();e=e.toUpperCase();if(e=="AFTERBEGIN"||e=="BEFOREEND"){i.selectNodeContents(kC);i.collapse(e=="AFTERBEGIN")}else{kD=e=="BEFOREBEGIN";i[kD?"setStartBefore":"setEndAfter"](kC);i.collapse(kD)}i.insertNode(i.createContextualFragment(T))}return kC};gY.insertHTML=gY.dom.insertHTML;gY.dom.show=function(e){e=gY.dom.g(e);if(e===null){return e}e.style.display="";return e};gY.show=gY.dom.show;gY.dom.getDocument=function(e){e=gY.dom.g(e);if(e===null){return e}return e.nodeType==9?e:e.ownerDocument||e.document};gY.dom.addClass=function(kF,kG){kF=gY.dom.g(kF);if(kF===null){return kF}var T=kG.split(/\\s+/),e=kF.className,kE=" "+e+" ",kD=0,kC=T.length;for(;kD<kC;kD++){if(kE.indexOf(" "+T[kD]+" ")<0){e+=" "+T[kD]}}kF.className=e;return kF};gY.addClass=gY.dom.addClass;gY.dom._styleFixer=gY.dom._styleFixer||{};gY.dom._styleFilter=gY.dom._styleFilter||[];gY.dom._styleFilter.filter=function(T,kE,kF){var kD=gY.dom._styleFilter;var kC;for(var e=0;kC=kD[e];e++){if(kC=kC[kF]){kE=kC(T,kE)}}return kE};gY.string.toCamelCase=function(e){if(e.indexOf("-")<0&&e.indexOf("_")<0){return e}return e.replace(/[-_][^-_]/g,function(i){return i.charAt(1).toUpperCase()})};gY.dom.toggleClass=function(e,i){if(gY.dom.hasClass(e,i)){gY.dom.removeClass(e,i)}else{gY.dom.addClass(e,i)}};gY.dom.hasClass=function(T){if(arguments.length<=0||typeof T==="function"){return this}if(this.size()<=0){return false}T=T.replace(/^\\s+/g,"").replace(/\\s+$/g,"").replace(/\\s+/g," ");var i=T.split(" ");var e;gY.forEach(this,function(kD){var kE=kD.className;for(var kC=0;kC<i.length;kC++){if(!~(" "+kE+" ").indexOf(" "+i[kC]+" ")){e=false;return}}if(e!==false){e=true;return}});return e};gY.dom.getStyle=function(T,i){var kE=gY.dom;T=kE.g(T);if(T===null){return T}i=gY.string.toCamelCase(i);var kD=T.style[i];if(!kD){var e=kE._styleFixer[i],kC=T.currentStyle||(gY.browser.ie?T.style:getComputedStyle(T,null));kD=e&&e.get?e.get(T,kC):kC[e||i]}if(e=kE._styleFilter){kD=e.filter(i,kD,"get")}return kD};gY.getStyle=gY.dom.getStyle;if(/opera\\/(\\d+\\.\\d)/i.test(navigator.userAgent)){gY.browser.opera=+RegExp["\\x241"]}gY.browser.isWebkit=/webkit/i.test(navigator.userAgent);gY.browser.isGecko=/gecko/i.test(navigator.userAgent)&&!/like gecko/i.test(navigator.userAgent);gY.browser.isStrict=document.compatMode=="CSS1Compat";gY.dom.getPosition=function(e){e=gY.dom.g(e);if(e===null){return e}var kI=gY.dom.getDocument(e),kC=gY.browser,kF=gY.dom.getStyle,T=kC.isGecko>0&&kI.getBoxObjectFor&&kF(e,"position")=="absolute"&&(e.style.top===""||e.style.left===""),kG={left:0,top:0},kE=(kC.ie&&!kC.isStrict)?kI.body:kI.documentElement,kJ,i;if(e==kE){return kG}if(e.getBoundingClientRect){i=e.getBoundingClientRect();kG.left=Math.floor(i.left)+Math.max(kI.documentElement.scrollLeft,kI.body.scrollLeft);kG.top=Math.floor(i.top)+Math.max(kI.documentElement.scrollTop,kI.body.scrollTop);kG.left-=kI.documentElement.clientLeft;kG.top-=kI.documentElement.clientTop;var kH=kI.body,kK=parseInt(kF(kH,"borderLeftWidth")),kD=parseInt(kF(kH,"borderTopWidth"));if(kC.ie&&!kC.isStrict){kG.left-=isNaN(kK)?2:kK;kG.top-=isNaN(kD)?2:kD}}else{kJ=e;do{kG.left+=kJ.offsetLeft;kG.top+=kJ.offsetTop;if(kC.isWebkit>0&&kF(kJ,"position")=="fixed"){kG.left+=kI.body.scrollLeft;kG.top+=kI.body.scrollTop;break}kJ=kJ.offsetParent}while(kJ&&kJ!=e);if(kC.opera>0||(kC.isWebkit>0&&kF(e,"position")=="absolute")){kG.top-=kI.body.offsetTop}kJ=e.offsetParent;while(kJ&&kJ!=kI.body){kG.left-=kJ.scrollLeft;if(!kC.opera||kJ.tagName!="TR"){kG.top-=kJ.scrollTop}kJ=kJ.offsetParent}}return kG};if(/firefox\\/(\\d+\\.\\d)/i.test(navigator.userAgent)){gY.browser.firefox=+RegExp["\\x241"]}if(/BIDUBrowser/i.test(navigator.userAgent)){gY.browser.baidu=true}(function(){var e=navigator.userAgent;if(/(\\d+\\.\\d)?(?:\\.\\d)?\\s+safari\\/?(\\d+\\.\\d+)?/i.test(e)&&!/chrome/i.test(e)){gY.browser.safari=+(RegExp["\\x241"]||RegExp["\\x242"])}})();if(/chrome\\/(\\d+\\.\\d)/i.test(navigator.userAgent)){gY.browser.chrome=+RegExp["\\x241"]}gY.array=gY.array||{};gY.array.each=function(kF,kD){var kC;var kE;var T;var e=kF.length;if("function"==typeof kD){for(T=0;T<e;T++){kE=kF[T];kC=kD.call(kF,kE,T);if(kC===false){break}}}return kF};gY.each=gY.array.each;gY.lang.guid=function(){return"TANGRAM__"+(window[gY.guid]["_counter"]++).toString(36)};window[gY.guid]["_counter"]=window[gY.guid]["_counter"]||1;window[gY.guid]["_instances"]=window[gY.guid]["_instances"]||{};gY.lang.isFunction=function(e){return"[object Function]"==Object.prototype.toString.call(e)||"[object AsyncFunction]"==Object.prototype.toString.call(e)};gY.lang.Class=function(e){this.guid=e||gY.lang.guid();window[gY.guid]["_instances"][this.guid]=this};window[gY.guid]["_instances"]=window[gY.guid]["_instances"]||{};gY.lang.Class.prototype.dispose=function(){delete window[gY.guid]["_instances"][this.guid];for(var e in this){if(!gY.lang.isFunction(this[e])){delete this[e]}}this.disposed=true};gY.lang.Class.prototype.toString=function(){return"[object "+(this._className||"Object")+"]"};gY.lang.Event=function(e,i){this.type=e;this.returnValue=true;this.target=i||null;this.currentTarget=null};gY.lang.Class.prototype.addEventListener=function(kC,T,i){if(!gY.lang.isFunction(T)){return}!T.__code&&(T.__code={});!this.__listeners&&(this.__listeners={});var e=this.__listeners,kD;if(typeof i=="string"&&i){if(/[^\\w\\-]/.test(i)){throw ("nonstandard key:"+i)}else{T.hashCode=i;kD=i}}kC.indexOf("on")!=0&&(kC="on"+kC);typeof e[kC]!="object"&&(e[kC]={});typeof T.__code[kC]!="object"&&(T.__code[kC]={});kD=kD||gY.lang.guid();T.__code[kC].hashCode=kD;e[kC][kD]=T};gY.lang.Class.prototype.removeEventListener=function(T,i){T.indexOf("on")!=0&&(T="on"+T);if(gY.lang.isFunction(i)){if(!i.__code||!i.__code[T]){return}i=i.__code[T].hashCode}else{if(!gY.lang.isString(i)){return}}!this.__listeners&&(this.__listeners={});var e=this.__listeners;if(!e[T]){return}e[T][i]&&delete e[T][i]};gY.lang.Class.prototype.dispatchEvent=function(kD,e){if(gY.lang.isString(kD)){kD=new gY.lang.Event(kD)}!this.__listeners&&(this.__listeners={});e=e||{};for(var kC in e){kD[kC]=e[kC]}var kC;var T=this.__listeners;var kE=kD.type;kD.target=kD.target||this;kD.currentTarget=this;kE.indexOf("on")!=0&&(kE="on"+kE);gY.lang.isFunction(this[kE])&&this[kE].apply(this,arguments);if(typeof T[kE]=="object"){for(kC in T[kE]){T[kE][kC].apply(this,arguments)}}return kD.returnValue};gY.lang.inherits=function(kF,kD,kC){var T,kE,e=kF.prototype,i=new Function();i.prototype=kD.prototype;kE=kF.prototype=new i();for(T in e){kE[T]=e[T]}kF.prototype.constructor=kF;kF.superClass=kD.prototype;if("string"==typeof kC){kE._className=kC}};gY.inherits=gY.lang.inherits;gY.lang.instance=function(e){return window[gY.guid]["_instances"][e]||null};gY.dom.getComputedStyle=function(i,e){i=gY.dom._g(i);var kC=gY.dom.getDocument(i),T;if(kC.defaultView&&kC.defaultView.getComputedStyle){T=kC.defaultView.getComputedStyle(i,null);if(T){return T[e]||T.getPropertyValue(e)}}return""};gY.dom.remove=function(e){e=gY.dom._g(e);var i=e.parentNode;i&&i.removeChild(e)};gY.lang.isArray=function(e){return"[object Array]"==Object.prototype.toString.call(e)};gY.event=gY.event||{};gY.event.stopPropagation=function(e){if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=true}};gY.event.preventDefault=function(e){if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}};gY.event.stop=function(i){var T=gY.event;T.stopPropagation(i);T.preventDefault(i)};gY.array.indexOf=function(kD,i,kC){var e=kD.length,T=i;kC=kC|0;if(kC<0){kC=Math.max(0,e+kC)}for(;kC<e;kC++){if(kC in kD&&kD[kC]===i){return kC}}return -1};gY.array.contains=function(e,i){return(gY.array.indexOf(e,i)>=0)};gY.ui=gY.ui||{version:"1.3.9"};gY.ui.getUI=function(kC){var kC=kC.split("-"),T=gY.ui,e=kC.length,kD=0;for(;kD<e;kD++){T=T[kC[kD].charAt(0).toUpperCase()+kC[kD].slice(1)]}return T};gY.ui.create=function(i,e){if(gY.lang.isString(i)){i=gY.ui.getUI(i)}return new i(e)};gY.event._listeners=gY.event._listeners||[];gY.event.on=function(i,kD,kF){kD=kD.replace(/^on/i,"");i=gY.dom._g(i);var kE=function(kH){kF.call(i,kH)};var e=gY.event._listeners;var kC=gY.event._eventFilter;var kG;var T=kD;kD=kD.toLowerCase();if(kC&&kC[kD]){kG=kC[kD](i,kD,kE);T=kG.type;kE=kG.listener}if(i&&i.addEventListener){i.addEventListener(T,kE,false)}else{if(i&&i.attachEvent){i.attachEvent("on"+T,kE)}}e[e.length]=[i,kD,kF,kE,T];return i};gY.on=gY.event.on;gY.event.un=function(T,kE,i){T=gY.dom._g(T);kE=kE.replace(/^on/i,"").toLowerCase();var kH=gY.event._listeners,kC=kH.length,kD=!i,kG,kF,e;while(kC--){kG=kH[kC];if(kG[1]===kE&&kG[0]===T&&(kD||kG[2]===i)){kF=kG[4];e=kG[3];if(T.removeEventListener){T.removeEventListener(kF,e,false)}else{if(T.detachEvent){T.detachEvent("on"+kF,e)}}kH.splice(kC,1)}}return T};gY.un=gY.event.un;gY.ui.Base={id:"",getId:function(e){var T=this,i;i="tangram-"+T.uiType+"--"+(T.id?T.id:T.guid);return e?i+"-"+e:i},getClass:function(i){var kC=this,T=kC.classPrefix,e=kC.skin;if(i){T+="-"+i;e+="-"+i}if(kC.skin){T+=" "+e}return T},getMain:function(){return e9.G(this.mainId)},getBody:function(){return e9.G(this.getId())},uiType:"",getCallRef:function(){return"window[\'$BAIDU$\']._instances[\'"+this.guid+"\']"},getCallString:function(kD){var kC=0,T=Array.prototype.slice.call(arguments,1),e=T.length;for(;kC<e;kC++){if(typeof T[kC]=="string"){T[kC]="\'"+T[kC]+"\'"}}return this.getCallRef()+"."+kD+"("+T.join(",")+");"},on:function(e,i,T){gY.on(e,i,T);this.addEventListener("ondispose",function(){gY.un(e,i,T)})},renderMain:function(T){var kD=this,kC=0,e;if(kD.getMain()){return}T=e9.G(T);if(!T){T=document.createElement("div");document.body.appendChild(T);T.style.position="absolute";T.className=kD.getClass("main")}if(!T.id){T.id=kD.getId("main")}kD.mainId=T.id;T.setAttribute("data-guid",kD.guid);return T},dispose:function(){this.dispatchEvent("dispose");gY.lang.Class.prototype.dispose.call(this)}};gY.ui.createUI=function(kC,kI){kI=kI||{};var kG=kI.superClass||gY.lang.Class;var kF=kG==gY.lang.Class?1:0;var kD;var T;var kH=function(kJ,i){var kK=this;kJ=kJ||{};kG.call(kK,!kF?kJ:(kJ.guid||""),true);gY.object.extend(kK,kH.options);gY.object.extend(kK,kJ);kK.classPrefix=kK.classPrefix||"tangram-"+kK.uiType.toLowerCase();for(kD in gY.ui.behavior){if(typeof kK[kD]!="undefined"&&kK[kD]){gY.object.extend(kK,gY.ui.behavior[kD]);if(gY.lang.isFunction(kK[kD])){kK.addEventListener("onload",function(){gY.ui.behavior[kD].call(kK[kD].apply(kK))})}else{gY.ui.behavior[kD].call(kK)}}}kC.apply(kK,arguments);for(kD=0,T=kH._addons.length;kD<T;kD++){kH._addons[kD](kK)}if(kJ.parent&&kK.setParent){kK.setParent(kJ.parent)}if(!i&&kJ.autoRender){kK.render(kJ.element)}},e=function(){};e.prototype=kG.prototype;var kE=kH.prototype=new e();for(kD in gY.ui.Base){kE[kD]=gY.ui.Base[kD]}kH.extend=function(i){for(kD in i){kH.prototype[kD]=i[kD]}return kH};kH._addons=[];kH.register=function(i){if(typeof i=="function"){kH._addons.push(i)}};kH.options={};return kH};gY.dom.getAttr=function(i,e){i=gY.dom.g(i);if(i===null){return i}if("style"==e){return i.style.cssText}e=gY.dom._NAME_ATTRS[e]||e;return i.getAttribute(e)};gY.getAttr=gY.dom.getAttr;gY.ui.get=function(e){var i;if(gY.lang.isString(e)){return gY.lang.instance(e)}else{do{if(!e||e.nodeType==9){return null}if(i=gY.dom.getAttr(e,"data-guid")){return gY.lang.instance(i)}}while((e=e.parentNode)!=document.body)}};gY.ui.Suggestion=gY.ui.createUI(function(e){var i=this;i.addEventListener("onload",function(){eventName=b5()?"touchstart":"mousedown";i.on(document,eventName,i.documentMousedownHandler);i.on(window,"blur",i.windowBlurHandler)});i.documentMousedownHandler=i._getDocumentMousedownHandler();i.windowBlurHandler=i._getWindowBlurHandler();i.enableIndex=[];i.currentIndex=-1}).extend({uiType:"suggestion",onbeforepick:new Function,onpick:new Function,onconfirm:new Function,onhighlight:new Function,onshow:new Function,onhide:new Function,getData:function(){return[]},prependHTML:"",appendHTML:"",currentData:{},tplDOM:"<div id=\'#{0}\' class=\'#{1}\' style=\'position:relative; top:0px; left:0px\'></div>",tplPrependAppend:"<div id=\'#{0}\' class=\'#{1}\'>#{2}</div>",tplClose:\'<div style="height:22px;line-height:22px;overflow:hidden;zoom:1;border-top:#E7E7E7 solid 1px;background:#F7F7F7;"><span style="float:right;color:#4B4B4B;border-left:1px solid #E7E7E7;padding:0 10px;font-size:14px;" onmousedown="#{0}">关闭</span></div>\',tplBody:\'<table cellspacing="0" cellpadding="2"><tbody>#{0}</tbody></table>\',tplRow:\'<tr><td id="#{0}" onmouseover="#{2}" onmouseout="#{3}" onmousedown="#{4}" onclick="#{5}" class="#{6}"><i class="route-icon">#{1}</i></td></tr>\',getString:function(){var e=this;return gY.format(e.tplDOM,e.getId(),e.getClass(),e.guid)},render:function(kC,i){var T=this;var e;var kC=e9.G(kC);T.baseDom=i;if(T.getMain()||!kC){return}if(kC.id){T.targetId=kC.id}else{T.targetId=kC.id=T.getId("input")}e=T.renderMain();e.style.display="none";e.innerHTML=T.getString();this.dispatchEvent("onload")},_isShowing:function(){var i=this,e=i.getMain();return e&&e.style.display!="none"},pick:function(e){var kC=this,i=kC.currentData,kD=i&&typeof e=="number"&&typeof i[e]!="undefined"?i[e].value:e,T={data:{item:kD==e?{value:e,content:e}:i[e],index:e}};if(kC.dispatchEvent("onbeforepick",T)){kC.dispatchEvent("onpick",T)}},show:function(kF,kE,kC){var T=0,e=kE.length,kD=this;kD.enableIndex=[];kD.currentIndex=-1;if(e==0&&!kC){kD.hide()}else{kD.currentData=[];for(;T<e;T++){if(typeof kE[T].value!="undefined"){kD.currentData.push(kE[T])}else{kD.currentData.push({value:kE[T],content:kE[T]})}if(typeof kE[T]["disable"]=="undefined"||kE[T]["disable"]==false){kD.enableIndex.push(T)}}kD.getBody().innerHTML=kD._getBodyString();kD.getMain().style.display="block";kD.dispatchEvent("onshow")}},hide:function(){var kE=this;if(!kE._isShowing()){return}if(kE.currentIndex>=0&&kE.holdHighLight){var kD=kE.currentData,T=-1;for(var kC=0,e=kD.length;kC<e;kC++){if(typeof kD[kC].disable=="undefined"||kD[kC].disable==false){T++;if(T==kE.currentIndex){kE.pick(kC)}}}}kE.getMain().style.display="none";kE.dispatchEvent("onhide")},highLight:function(e){var T=this,kC=T.enableIndex,i=null;if(!T._isEnable(e)){return}T.currentIndex>=0&&T._clearHighLight();i=T._getItem(e);gY.addClass(i,T.getClass("current"));T.currentIndex=gY.array.indexOf(kC,e);T.dispatchEvent("onhighlight",{index:e,data:T.getDataByIndex(e)})},clearHighLight:function(){var T=this,e=T.currentIndex,i=T.enableIndex[e];T._clearHighLight()&&T.dispatchEvent("onclearhighlight",{index:i,data:T.getDataByIndex(i)})},_clearHighLight:function(){var T=this,e=T.currentIndex,kC=T.enableIndex,i=null;if(e>=0){i=T._getItem(kC[e]);gY.removeClass(i,T.getClass("current"));T.currentIndex=-1;return true}return false},confirm:function(e,T){var i=this;if(T!="keyboard"){if(!i._isEnable(e)){return}}i.pick(e);i.dispatchEvent("onconfirm",{data:i.getDataByIndex(e)||e,source:T});i.currentIndex=-1;i.hide()},getDataByIndex:function(e){return{item:this.currentData[e],index:e}},getTargetValue:function(){return this.getTarget().value},getTarget:function(){return e9.G(this.targetId)},_getItem:function(e){return e9.G(this.getId("item"+e))},_getBodyString:function(){var kF=this,kE="",kD=[],kG=kF.currentData,e=kG.length,kC=0;function T(i){return gY.format(kF.tplPrependAppend,kF.getId(i),kF.getClass(i),kF[i+"HTML"])}for(;kC<e;kC++){kD.push(gY.format(kF.tplRow,kF.getId("item"+kC),kG[kC].content,kF.getCallRef()+"._itemOver(event, "+kC+")",kF.getCallRef()+"._itemOut(event, "+kC+")",kF.getCallRef()+"._itemDown(event, "+kC+")",kF.getCallRef()+"._itemClick(event, "+kC+")",(typeof kG[kC]["disable"]=="undefined"||kG[kC]["disable"]==false)?"":kF.getClass("disable")))}kE+=gY.format(kF.tplBody,kD.join(""));if(b5()){kE+=gY.format(kF.tplClose,kF.getCallRef()+"._close(event)")}return kE},_close:function(i){this.hide()},_itemOver:function(kC,i){var T=this;gY.event.stop(kC||window.event);T._isEnable(i)&&T.highLight(i);T.dispatchEvent("onmouseoveritem",{index:i,data:T.getDataByIndex(i)})},_itemOut:function(kC,i){var T=this;gY.event.stop(kC||window.event);if(!T.holdHighLight){T._isEnable(i)&&T.clearHighLight()}T.dispatchEvent("onmouseoutitem",{index:i,data:T.getDataByIndex(i)})},_itemDown:function(kC,i){var T=this;gY.event.stop(kC||window.event);T.dispatchEvent("onmousedownitem",{index:i,data:T.getDataByIndex(i)})},_itemClick:function(kC,i){var T=this;gY.event.stop(kC||window.event);T.dispatchEvent("onitemclick",{index:i,data:T.getDataByIndex(i)});T._isEnable(i)&&T.confirm(i,"mouse")},_isEnable:function(e){var i=this;return gY.array.contains(i.enableIndex,e)},_getDocumentMousedownHandler:function(){var e=this;return function(kC){kC=kC||window.event;var i=kC.target||kC.srcElement,T=gY.ui.get(i);if(i==e.getTarget()||(T&&T.uiType==e.uiType)){return}e.hide()}},_getWindowBlurHandler:function(){var e=this;return function(){e.hide()}},dispose:function(){var e=this;e.dispatchEvent("dispose");gY.dom.remove(e.mainId);gY.lang.Class.prototype.dispose.call(this)}});gY.ui.behavior=gY.ui.behavior||{};gY.dom.children=function(i){i=gY.dom.g(i);if(i===null){return i}for(var e=[],T=i.firstChild;T;T=T.nextSibling){if(T.nodeType==1){e.push(T)}}return e};gY.dom.insertBefore=function(kC,T){var i,e;i=gY.dom._g;kC=i(kC);T=i(T);e=T.parentNode;if(e){e.insertBefore(kC,T)}return kC};gY.dom.setStyle=function(T,i,kC){var kD=gY.dom,e;T=kD.g(T);i=gY.string.toCamelCase(i);if(e=kD._styleFilter){kC=e.filter(i,kC,"set")}e=kD._styleFixer[i];(e&&e.set)?e.set(T,kC):(T.style[e||i]=kC);return T};gY.setStyle=gY.dom.setStyle;gY.dom.setStyles=function(i,T){i=gY.dom.g(i);if(i===null){return i}for(var e in T){gY.dom.setStyle(i,e,T[e])}return i};gY.setStyles=gY.dom.setStyles;gY.dom._styleFilter[gY.dom._styleFilter.length]={set:function(e,i){if(i.constructor==Number&&!/zIndex|fontWeight|opacity|zoom|lineHeight/i.test(e)){i=i+"px"}return i}};gY.dom.setBorderBoxSize=function(T,i){var e={};i.width&&(e.width=parseFloat(i.width));i.height&&(e.height=parseFloat(i.height));function kC(kE,kD){return parseFloat(gY.getStyle(kE,kD))||0}if(gY.browser.isStrict){if(i.width){e.width=parseFloat(i.width)-kC(T,"paddingLeft")-kC(T,"paddingRight")-kC(T,"borderLeftWidth")-kC(T,"borderRightWidth");e.width<0&&(e.width=0)}if(i.height){e.height=parseFloat(i.height)-kC(T,"paddingTop")-kC(T,"paddingBottom")-kC(T,"borderTopWidth")-kC(T,"borderBottomWidth");e.height<0&&(e.height=0)}}return gY.dom.setStyles(T,e)};(function(){var e=gY.ui.behavior.coverable=function(){};e.Coverable_isShowing=false;e.Coverable_iframe;e.Coverable_container;e.Coverable_iframeContainer;e.Coverable_show=function(){var kG=this;if(kG.Coverable_iframe){kG.Coverable_update();gY.setStyle(kG.Coverable_iframe,"display","block");return}var kE=kG.coverableOptions||{},T=kG.Coverable_container=kE.container||kG.getMain(),kD=kE.opacity||"0",kC=kE.color||"",kF=kG.Coverable_iframe=document.createElement("iframe"),i=kG.Coverable_iframeContainer=document.createElement("div");gY.dom.children(T).length>0?gY.dom.insertBefore(i,T.firstChild):T.appendChild(i);gY.setStyles(i,{position:"absolute",top:"0px",left:"0px"});gY.dom.setBorderBoxSize(i,{width:T.offsetWidth,height:T.offsetHeight});gY.dom.setBorderBoxSize(kF,{width:i.offsetWidth});gY.dom.setStyles(kF,{zIndex:-1,display:"block",border:0,backgroundColor:kC,filter:"progid:DXImageTransform.Microsoft.Alpha(style=0,opacity="+kD+")"});i.appendChild(kF);kF.src="javascript:void(0)";kF.frameBorder="0";kF.scrolling="no";kF.height="97%";kG.Coverable_isShowing=true};e.Coverable_hide=function(){var T=this,i=T.Coverable_iframe;if(!T.Coverable_isShowing){return}gY.setStyle(i,"display","none");T.Coverable_isShowing=false};e.Coverable_update=function(kC){var kE=this,kC=kC||{},T=kE.Coverable_container,i=kE.Coverable_iframeContainer,kD=kE.Coverable_iframe;gY.dom.setBorderBoxSize(i,{width:T.offsetWidth,height:T.offsetHeight});gY.dom.setBorderBoxSize(kD,gY.extend({width:gY.getStyle(i,"width")},kC))}})();gY.extend(gY.ui.Suggestion.prototype,{coverable:true,coverableOptions:{}});gY.ui.Suggestion.register(function(e){if(e.coverable){e.addEventListener("onshow",function(){e.Coverable_show()});e.addEventListener("onhide",function(){e.Coverable_hide()})}});gY.ui.Suggestion.extend({setData:function(kC,T,i){var e=this;e.dataCache[kC]=T;if(!i){e.show(kC,e.dataCache[kC])}}});gY.ui.Suggestion.register(function(e){e.dataCache={};e.addEventListener("onneeddata",function(T,kC){var i=e.dataCache;if(typeof i[kC]=="undefined"){e.getData(kC)}else{e.show(kC,i[kC])}})});gY.dom.setOuterWidth=gY.dom.setBorderBoxWidth=function(e,i){return gY.dom.setBorderBoxSize(e,{width:i})};gY.dom.getWindow=function(e){e=gY.dom.g(e);if(e===null){return e}var i=gY.dom.getDocument(e);return i.parentWindow||i.defaultView||null};gY.dom.setPosition=function(i,e){return gY.dom.setStyles(i,{left:e.left-(parseFloat(gY.dom.getStyle(i,"margin-left"))||0),top:e.top-(parseFloat(gY.dom.getStyle(i,"margin-top"))||0)})};gY.page=gY.page||{};gY.page.getViewWidth=function(){var i=document,e=i.compatMode=="BackCompat"?i.body:i.documentElement;return e.clientWidth};gY.page.getViewHeight=function(){var i=document,e=i.compatMode=="BackCompat"?i.body:i.documentElement;return e.clientHeight};gY.page.getScrollTop=function(){var e=document;return window.pageYOffset||e.documentElement.scrollTop||e.body.scrollTop};gY.page.getScrollLeft=function(){var e=document;return window.pageXOffset||e.documentElement.scrollLeft||e.body.scrollLeft};gY.fn=gY.fn||{};gY.fn.bind=function(i,e){var T=arguments.length>2?[].slice.call(arguments,2):null;return function(){var kD=gY.lang.isString(i)?e[i]:i,kC=(T)?T.concat([].slice.call(arguments,0)):arguments;return kD.apply(e||kD,kC)}};(function(){var i=gY.ui.behavior.posable=function(){};i.setPosition=function(kF,kD,kC){kD=e9.G(kD)||this.getMain();kC=kC||{};var kE=this,T=[kD,kF,kC];kE.__execPosFn(kD,"_positionByCoordinate",kC.once,T)};i._positionByCoordinate=function(T,kP,kQ,kD){kP=kP||[0,0];kQ=kQ||{};var kM=this,kN={},kK=gY.page.getViewHeight(),kO=gY.page.getViewWidth(),kH=gY.page.getScrollLeft(),kF=gY.page.getScrollTop(),kE=T.offsetWidth,kG=T.offsetHeight,kC=T.offsetParent,kL=(!kC||kC==document.body)?{left:0,top:0}:gY.dom.getPosition(kC);kQ.position=(typeof kQ.position!=="undefined")?kQ.position.toLowerCase():"bottomright";kP=e(kP||[0,0]);kQ.offset=e(kQ.offset||[0,0]);kP.x+=(kQ.position.indexOf("right")>=0?(kP.width||0):0);kP.y+=(kQ.position.indexOf("bottom")>=0?(kP.height||0):0);kN.left=kP.x+kQ.offset.x-kL.left;kN.top=kP.y+kQ.offset.y-kL.top;switch(kQ.insideScreen){case"surround":kN.left+=kN.left<kH?kE+(kP.width||0):((kN.left+kE)>(kH+kO)?-kE-(kP.width||0):0);kN.top+=kN.top<kF?kG+(kP.height||0):((kN.top+kG)>(kF+kK)?-kG-(kP.height||0):0);break;case"fix":kN.left=Math.max(0-parseFloat(gY.dom.getStyle(T,"marginLeft"))||0,Math.min(kN.left,gY.page.getViewWidth()-kE-kL.left));kN.top=Math.max(0-parseFloat(gY.dom.getStyle(T,"marginTop"))||0,Math.min(kN.top,gY.page.getViewHeight()-kG-kL.top));break;case"verge":var kJ={width:(kQ.position.indexOf("right")>-1?kP.width:0),height:(kQ.position.indexOf("bottom")>-1?kP.height:0)},kI={width:(kQ.position.indexOf("bottom")>-1?kP.width:0),height:(kQ.position.indexOf("right")>-1?kP.height:0)};kN.left-=(kQ.position.indexOf("right")>=0?(kP.width||0):0);kN.top-=(kQ.position.indexOf("bottom")>=0?(kP.height||0):0);kN.left+=kN.left+kJ.width+kE-kH>kO-kL.left?kI.width-kE:kJ.width;kN.top+=kN.top+kJ.height+kG-kF>kK-kL.top?kI.height-kG:kJ.height;break}gY.dom.setPosition(T,kN);if(!kD&&(kK!=gY.page.getViewHeight()||kO!=gY.page.getViewWidth())){kM._positionByCoordinate(T,kP,{},true)}kD||kM.dispatchEvent("onpositionupdate")};i.__execPosFn=function(kC,kF,kD,T){var kE=this;if(typeof kD=="undefined"||!kD){gY.event.on(gY.dom.getWindow(kC),"resize",gY.fn.bind.apply(kE,[kF,kE].concat([].slice.call(T))))}kE[kF].apply(kE,T)};function e(T){T.x=T[0]||T.x||T.left||0;T.y=T[1]||T.y||T.top||0;return T}})();gY.ui.Suggestion.extend({posable:true,fixWidth:true,getWindowResizeHandler:function(){var e=this;return function(){e.adjustPosition(true)}},adjustPosition:function(T){var kD=this;var kE=kD.getTarget();var i=kD.baseDom;var kC;var e=kD.getMain();var kF;if(!kD._isShowing()&&T){return}if(i){kE=i}kC=gY.dom.getPosition(kE);kF={top:(kC.top+kE.offsetHeight-1),left:kC.left,width:kE.offsetWidth};kF=typeof kD.view=="function"?kD.view(kF):kF;kD.setPosition([kF.left,kF.top],null,{once:true});gY.dom.setOuterWidth(e,kF.width)}});gY.ui.Suggestion.register(function(e){e.windowResizeHandler=e.getWindowResizeHandler();e.addEventListener("onload",function(){e.adjustPosition();if(e.fixWidth){e.fixWidthTimer=setInterval(function(){var i=e.getMain(),T=e.getTarget();if(i.offsetWidth!=0&&T&&T.offsetWidth!=i.offsetWidth){e.adjustPosition();i.style.display="block"}},100)}e.on(window,"resize",e.windowResizeHandler)});e.addEventListener("onshow",function(){e.adjustPosition()});e.addEventListener("ondispose",function(){clearInterval(e.fixWidthTimer)})});gY.ui.Suggestion.register(function(kD){var kG;var T="";var kF;var kC;var i=false;var kE=false;function e(){setTimeout(function(){var kH=kD.getTarget();kF=kH===null?"":kH.value},20)}kD.addEventListener("onload",function(){kG=this.getTarget();e();kD.on(window,"onload",e);kD.targetKeydownHandler=kD.getTargetKeydownHandler();kD.on(kG,"keydown",kD.targetKeydownHandler);kG.setAttribute("autocomplete","off");kD.circleTimer=setInterval(function(){if(kE){return}if(e9.G(kG)==null){kD.dispose()}var kH=kG.value;if(kH==T&&kH!=""&&kH!=kF&&kH!=kC){if(kD.requestTimer==0){kD.requestTimer=setTimeout(function(){kD.dispatchEvent("onneeddata",kH)},100)}}else{clearTimeout(kD.requestTimer);kD.requestTimer=0;if(kH==""&&T!=""){kC="";kD.hide()}T=kH;if(kH!=kC){kD.defaultIptValue=kH}if(kF!=kG.value){kF=""}}},10);kD.on(kG,"beforedeactivate",kD.beforedeactivateHandler)});kD.addEventListener("onitemclick",function(){kE=false;kD.defaultIptValue=T=kD.getTargetValue()});kD.addEventListener("onpick",function(kH){if(i){kG.blur()}kG.value=kC=kH.data.item.value;if(i){kG.focus()}});kD.addEventListener("onmousedownitem",function(kH){i=true;kE=true;setTimeout(function(){kE=false;i=false},500)});kD.addEventListener("ondispose",function(){clearInterval(kD.circleTimer)})});gY.ui.Suggestion.extend({beforedeactivateHandler:function(){return function(){if(mousedownView){window.event.cancelBubble=true;window.event.returnValue=false}}},getTargetKeydownHandler:function(){var i=this;function e(T){if(!i._isShowing()){i.dispatchEvent("onneeddata",i.getTargetValue());return}var kD=i.enableIndex,kC=i.currentIndex;if(kD.length==0){return}if(T){switch(kC){case -1:kC=kD.length-1;i.pick(kD[kC]);i.highLight(kD[kC]);break;case 0:kC=-1;i.pick(i.defaultIptValue);i.clearHighLight();break;default:kC--;i.pick(kD[kC]);i.highLight(kD[kC]);break}}else{switch(kC){case -1:kC=0;i.pick(kD[kC]);i.highLight(kD[kC]);break;case kD.length-1:kC=-1;i.pick(i.defaultIptValue);i.clearHighLight();break;default:kC++;i.pick(kD[kC]);i.highLight(kD[kC]);break}}i.currentIndex=kC}return function(kD){var T=false,kC;kD=kD||window.event;switch(kD.keyCode){case 9:i.hide();break;case 27:i.hide();break;case 13:gY.event.stop(kD);i.confirm(i.currentIndex==-1?i.getTarget().value:i.enableIndex[i.currentIndex],"keyboard");break;case 38:T=true;gY.event.stop(kD);e(T);break;case 40:gY.event.stop(kD);e(T);break;default:i.currentIndex=-1}}},defaultIptValue:""});e9.undope=true;jq.IS_INCLUDE_STYLE=false;jq.STYLE_FILE_PATH=E.apiHost+"/res/20/bmap_autocomplete.css";jq.TYPES_COLLECTION={ALL:"0",CITY:"1"};e9.extend(jq.prototype,{_asyncSearch:function(){this._initialize()},_initialize:function(){this._exIndex=-1;this._json=null;this._typeIds=[];this._cityId=0;this._results=this._getAutocompleteResult();if(!!this._options.input){this._getStyles();this._renderSuggestion();this.setInputValue(this._inputValue)}var e=null;if(!!this._word){e={};e.method="search";e.arguments=[this._word]}this._getTypesId();this._getCityId(e)},_renderSuggestion:function(){var i=this;var e=new gY.ui.Suggestion({getData:function(T){i._sendAutocompleteRequest(T)},onhide:function(){i._exIndex=-1;if(i._suggestion.getTargetValue()===""){i._word="";i._results=i._getAutocompleteResult()}},onhighlight:function(T){if(!i._json){return}var kD={},kC={};kC={index:T.data.index,value:i._json.items[T.data.index].value};kD={index:i._exIndex,value:i._exIndex>=0?i._json.items[i._exIndex].value:{}};var kE=new fW("onhighlight");kE.fromitem=kE.fromitem=kD;kE.toitem=kE.toitem=kC;i.dispatchEvent(kE);i._exIndex=T.data.index},onbeforepick:function(T){if(!i._json){return}if(typeof(T.data.index)==="number"){var kC=i._json.items[T.data.index].value;T.data.item.content=T.data.item.value=kC.province+kC.city+kC.district+kC.street+kC.business}},onconfirm:function(T){if(!i._json){return}var kC={};if(typeof(T.data.index)==="number"){kC={index:T.data.index,value:i._json.items[T.data.index].value};var kD=new fW("onconfirm");kD.item=kD.item=kC;i.dispatchEvent(kD)}}});e.render(e9.G(this._options.input),e9.G(this._options.baseDom));this._suggestion=e},show:function(){if(this._suggestion){this._suggestion.getMain().style.display="block"}},hide:function(){this._suggestion&&this._suggestion.hide();this._exIndex=-1},dispose:function(){this._suggestion&&this._suggestion.dispose();gY.lang.Class.prototype.dispose.call(this)},setTypes:function(e){this._options.types=e||[];this._getTypesId()},setLocation:function(e,i){this._loc.src=e;this._getCityId(i)},search:function(e){this._sendAutocompleteRequest(e)},setInputValue:function(e){if(this._suggestion){this._suggestion.pick(e)}},_sendAutocompleteRequest:function(kD){var kC=this,e=(Math.random()*100000).toFixed(0);BMapGL._rd["_cbk"+e]=function(kF){if(e9.G(kC._options.input)!==null){kC._getAutocompleteBack(kF)}delete BMapGL._rd["_cbk"+e]};var T=kC._typeIds.split(",");var kE=false;if(T.length>=1&&Number(T[0])===1){kE=true}if(window._BMapSecurityConfig&&window._BMapSecurityConfig["serviceHost"]){var i=window._BMapSecurityConfig["serviceHost"]+"/?qt=placesug&query="+kD+"&callback=BMapGL._rd._cbk"+e+"&region="+kC._cityId+"&city_limit="+kE+"&t="+new Date().getTime()+"&from=jsapi"}else{var i=E.apiHost+"/?qt=placesug&query="+kD+"&callback=BMapGL._rd._cbk"+e+"&region="+kC._cityId+"&city_limit="+kE+"&t="+new Date().getTime()+"&from=jsapi&ak="+eZ}kC._word=kD;kC._exIndex=-1;kC._results=this._getAutocompleteResult();dq.request(i)},_getAutocompleteBack:function(e){if(!e||!e.result||e.status!==0||(e.result["error"]!==undefined&&e.result["error"]!==0)){throw new Error("服务请求失败，请检查服务权限、配额等是否正常")}if(e&&e.result){this._word=e.result["q"]}var i=this._formatDataForTangram(e);this._showResultList(i);this._results=this._getAutocompleteResult(this._json);this._options.onSearchComplete(this._results)},_formatDataForTangram:function(kE){var kF=[],T=kE.result["poi_list"]||[],e={};e.keyword=kE.result["q"]||"";e.count=T.length||0;e.status=kE.status<0?BMAP_STATUS_SERVICE_UNAVAILABLE:BMAP_STATUS_SUCCESS;e.items=[];var kD=0;var kG=T.length;if(b5()&&kG>6){kG=6}for(;kD<kG;kD++){var kC=this._getItemValue(T[kD],this._typeIds);e.items.push(kC.value);kF.push(kC.html)}this._json=e;return{data:kF,word:kE.result["q"]}},_showResultList:function(e){if(!this._suggestion||!this._options.showSuggestion){return}var i=this._suggestion;i.show(e.word,e.data);if(e.data["length"]<1){i.hide()}},_getItemValue:function(i,e){return this._getItemValueForPoi(i)},_getItemValueForPoi:function(kE){var e=kE;wd=this._word,reExp=new RegExp(wd,"g"),reExp1="<b>"+wd+"</b>",geoInfo={province:e.province,city:e.city,district:e.district,street:e.name,streetNumber:"",business:e.business,address:e.address,tag:e.tag,location:e.location},poiHtmlInfo="",streetLength=3;e=[e.city,e.district,e.name,e.business];for(var kC=streetLength;kC>=0;kC--){poiHtmlInfo=e[kC]+poiHtmlInfo;if(poiHtmlInfo.indexOf(wd)>-1){var T=kC-1,kD="";while(T>-1){kD=e[T]+kD;T--}poiHtmlInfo=poiHtmlInfo.replace(reExp,reExp1);if(!!kD){poiHtmlInfo+="&nbsp;<span class=\'tangram-suggestion-grey\'>"+kD+"</span>"}break}else{continue}}if(!kD){for(var kC=streetLength;kC>=0;kC--){kD+=e[kC]}}return{value:{value:geoInfo},html:poiHtmlInfo}},_getItemValueForCity:function(kF){var i=kF.split("$"),kD=this._word,e=new RegExp(kD,"g"),T="<b>"+kD+"</b>",kC={province:i[0],city:i[1],district:"",street:"",streetNumber:"",business:""},kE=(i[0]+i[1]).replace(e,T);return{value:{value:kC},html:kE}},_getTypesId:function(){var T=this._options.types,kC=[];if(gY.isString(T)){kC.push(jq.TYPES_COLLECTION[T.toUpperCase()])}else{if(gY.lang.isArray(T)){for(var e=0,kD=T.length;e<kD;e++){kC.push(jq.TYPES_COLLECTION[T[e].toUpperCase()])}}}this._typeIds=kC.length>0?kC.join(","):"0"},_getCityId:function(i){var e=this;e._getIdByLoc(e._loc,function(T){e._cityId=T;if(!!i){e[i.method].apply(e,i.arguments)}})},_getStyles:function(){if(!jq.IS_INCLUDE_STYLE){var T=document,i=T.createElement("link");i.setAttribute("rel","stylesheet");i.setAttribute("type","text/css");i.setAttribute("href",jq.STYLE_FILE_PATH);var e=T.getElementsByTagName("head");if(e.length){e[0].appendChild(i)}else{T.documentElement.appendChild(i)}jq.IS_INCLUDE_STYLE=true}},_getAutocompleteResult:function(e){if(!e){return new d6({keyword:this._word,total:0,pois:[]})}var kC=[];for(var T=0,kD=e.items.length;T<kD;T++){kC.push(e.items[T].value)}return new d6({keyword:e.keyword,total:e.count,pois:kC})}});function d6(e){this["keyword"]=e.keyword||"";this._numPois=e.total||0;this._pois=e.pois&&e.pois.slice(0)||[]}gY.extend(d6.prototype,{getPoi:function(e){if(this._pois[e]){return this._pois[e]}},getNumPois:function(){return this._numPois},toString:function(){return"AutocompleteResult"}});');
