/**/ï»¿_jsload&&_jsload('infowindow', '(function(i){var kD=i.Utils;var kC=kD.format;var e={DEBUG:true,PREFIX:"BMap_bubble",WINDOWOFFSET:[25,-8],POPSTYLE:"padding:0 8px; position:absolute; display:none; cursor:default; border:1px solid #ddd;background-color:#fff;border-radius:10px;",TOPSTYLE:"height:31px",TITLESTYLE:"line-height:30px;display:block;overflow:hidden;height:30px;white-space:nowrap;color:#333;",BUTTONSSTYLE:"float:right;position:absolute;top:-2px;right:0px;height:30px;",CENTERSTYLE:"z-index:3; position:relative;",CONTENTSTYLE:"display:block; font-size:14px; line-height: 24px; position:absolute; top: 2px; color:#555",BOTTOMSTYLE:"display:block; z-index:2; position:absolute;"};var kE="";e.closeButtonImg=E.imgPath+"iw_close.gif";e.tailImg=E.imgPath+"iw_tail.png";e.plusImg=E.imgPath+"iw_plus.gif";e.minusImg=E.imgPath+"iw_minus.gif";e.blankImg=E.imgPath+"blank.gif";e.popWindowShadowImg=E.imgPath+"iws3.png";e.infoWindowDomTemplate=kC([\'<div class="{PREFIX}_pop" style="{POPSTYLE}">\',\'<div class="{PREFIX}_top" style="{TOPSTYLE}">\',\'<div class="{PREFIX}_title" style="{TITLESTYLE}">\',"</div>",\'<div class="{PREFIX}_buttons" style="{BUTTONSSTYLE}">\',"</div>","</div>",\'<div class="{PREFIX}_center" style="{CENTERSTYLE}">\',\'<div class="{PREFIX}_content" style="{CONTENTSTYLE}">\',"</div>","</div>",\'<div class="{PREFIX}_bottom" style="{BOTTOMSTYLE}">\',"</div>","</div>"],e);function T(kI,kG){for(var kH=0,kF=kI.length;kH<kF;++kH){if(kI[kH].className===e.PREFIX+"_"+kG){return kI[kH]}}throw Error("Fatal Error:"+kG+" is not exists in InfoWindow DOM!")}e.infoWindowShadowDomTemplate=(function(){var kF=11;var kH=[\'<div class="shadow" style="position: absolute;display:none" type="infowindow_shadow">\'];for(var kG=0;kG<kF;++kG){kH.push(\'<div><img onmousedown="{onmousedown}" style="{shadowDim};position:absolute;{s\'+kG+\'}" src="{src}"/></div>\')}kH.push("</div>");return kC(kH,{onmousedown:"return false;",shadowDim:"width:1144px;height:370px"})})();e9.extend(ef.prototype,{initialize:function(kG){var kH=this.map=kG.map;kH._asyncRegister();this.overlay=kG;this.render();this._bind();if(this._config.enableMaximize){this.enableMaximize()}else{this.disableMaximize()}this.setTitle();this.setContent();if(this._config.ifMaxScene){this.setMaxScene(true)}this.redraw(null,true);var kF=kH.infoWindowDoms;if(kF){if(kG.toString()==="Marker"){kF.marker=kG}else{kF.marker=null}}},render:function(){var kH=this.map;var kO=this;var kL=kH.infoWindowDoms;if(!kL){kL=kH.infoWindowDoms={};kH.infoWindow=kH.infoWindowDoms;var kK=[kC(e.infoWindowShadowDomTemplate,{src:e.popWindowShadowImg,s0:"left:-323px;top:0px;",s1:"left:-393px;top:0px;",s2:"left:-1033px;top:0px;",s3:"top:-30px;",s4:"left:-360px;top:-30px;",s5:"top:-30px;",s6:"left:-14px;top:-310px;",s7:"left:-255px;top:-310px;",s8:"left:-440px;top:-310px;",s9:"left:-255px;top:-310px;",s10:"left:-754px;top:-310px;"}),e.infoWindowDomTemplate].join("");bS(kH.platform,kK);if(kH.platform.lastChild.className===""){kH.platform.removeChild(kH.platform.lastChild)}kL.popDom=kH.platform.lastChild;kL.shadowDom=kL.popDom.previousSibling;var kG=kL.popDivs=kL.popDom.getElementsByTagName("DIV");kL.shadowDivs=kL.shadowDom.getElementsByTagName("DIV");kL.contentMain=T(kG,"content");kL.contentDiv=T(kG,"content");kL.centerDiv=T(kG,"center");kL.buttonsDiv=T(kG,"buttons");kL.titleDiv=T(kG,"title");kL.bottomDiv=T(kG,"bottom");kL.maxContentDiv=bS(kL.contentMain,\'<div class="BMap_bubble_max_content" style="display:none;position:relative"></div>\');var kQ=kL.buttonsDiv;var kP=kC([\'<div style="cursor:pointer">\',\'<div style="position:absolute;top:{top};width:{width};height:{height};\',\'-moz-user-select:none;cursor:pointer;z-index:10000;display:none"/>&times</div>\',"</div>"],{top:"9px",right:"24px",width:"10px",height:"10px",src:e.plusImg});kL.maxButton=bS(kQ,kP);var kN=20;var kR=kC([\'<div style="cursor:pointer;width:{width};height:{height};color:{color}">\',\'<div style="position:absolute;top:{top};right:{right};text-align:center;line-height:{height};\',\'-moz-user-select:none;cursor:pointer;z-index:10000;font-size:{fontSize}"/>&times</div>\',"</div>"],{top:"2px",right:"12px",width:"32px",height:"30px",fontSize:kN+"px",color:"#ccc"});kL.closeButton=bS(kQ,kR);var kI="";var kF=e.tailImg;var kJ=kC(["<img ",\'style="z-index:1;position:absolute;\',"width:{width};height:{height};left:{left};bottom:{bottom};",\'{filter}" src="{src}" />\'],{src:kF,left:"107px",bottom:"-30px",width:"58px",height:"31px",filter:kI});var kM=kL.tail=bS(kL.popDom,kJ)}kL.hashCode=kL.popDom.hashCode=this.hashCode},_bind:function(){var kP=this;var kF=kP.map;var kM=kF.infoWindowDoms;var kG=kM.closeButton;var kR=kM.popDom;var kH=function(kS){if(kP.hide()===true){kP.dispatchEvent(new fW("onclickclose"))}hI(kS)};kG.addEventListener("touchstart",function(kS){hI(kS)});kG.addEventListener("click",kH);var kQ=function(kS){this.style.color="#ccc"};var kL=function(kS){this.style.color="#6DA1EA"};kG.onmouseover=kL;kG.onmouseout=kQ;var kK=["mouseout","mouseover","click","keydown","selectstart"];if(kP._config.canScroll){kK.push("mousewheel")}var kN=(window.PointerEvent||window.MSPointerEvent)&&(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);var kI=["mousedown"];if(kN){if(window.PointerEvent){kI=["pointerdown"]}else{if(window.MSPointerEvent){kI=["MSPointerDown"]}}}for(var kJ=0;kJ<kI.length;kJ++){kK.push(kI[kJ])}e9.each(kK,function(kS){e9.on(kR,kS,al)});e9.on(kR,"dblclick",hI);e9.on(kR,"contextmenu",hI);if(window.addEventListener){kR.addEventListener("DOMMouseScroll",al,false)}var kO=function(kT){var kS=kP.map.infoWindowDoms.maxButton;if(!kP.isWinMax){kP.maximize()}else{kP.restore()}hI(kT)};kM.maxButton.onclick=kO;if(b5()){e9.on(kG,"touchend",kH);e9.on(kM.maxButton,"touchend",kO)}kR=kG=kM=null},_setWinSize:function(kO,kN){var kY=this._config;kO=kO||kY.width;kN=kN||kY.height;if(kN<0){kN=0}var kI=kY.offset.width;var kM=kY.offset.height;var kX=[25,-1,25,-1,25,-1,25,34];var kH=[25,-1,25,-1,25,-1,25,50];kX[1]=kO-kX[0]-kX[2];if(e9.isIE&&document.compatMode!=="CSS1Compat"){kX[3]=kO}else{kX[3]=kO-2}kX[5]=kO-kX[4]-kX[6];kH[1]=kH[0];kH[3]=kN-kH[0]-kH[4];if(e9.isIE&&document.compatMode!=="CSS1Compat"){kH[5]=kH[4]}else{kH[5]=kH[4]-1}var kZ=[0,kX[0],kO-kX[2],0,0,kX[4],kO-kX[6],Math.ceil((kO-kX[7])/2)];var kU=[0,0,0,kX[0],kN-kX[4],kN-kX[4],kN-kX[4],kN-kX[4]];var kG=this._allPopLeft=kI-Math.round((kO-kX[7])/2);var kV=this._allPopTop=kM-kN-24;var k0=Math.floor((kN+kH[7])/2.03)+30;var kK=[70,-1,70,-1,-1,-1,50,-1,140,-1,70];var kS=[30,30,30,25,25,25,60,60,60,60,60];kK[7]=Math.round((kO+80-(kK[6]+kK[8]+kK[10])-50)/2);kK[9]=kK[7]+50;var kW=kK[6]+kK[7]+kK[8]+kK[9]+kK[10];kK[1]=kW-kK[0]-kK[2]-29;kK[5]=kK[3]=k0-kS[0]-kS[6]+70;kS[3]=kS[4]=kS[5]=k0-kS[0]-kS[6];kK[4]=(kK[0]+kK[1]+kK[2]+kS[3]+29)-kK[5]-kK[3];var kF=[k0-60-1,k0-60-1+kK[0],k0-60-1+kK[0]+kK[1],29,29+kK[3],29+kK[3]+kK[4],0,kK[6],kK[6]+kK[7],kK[6]+kK[7]+kK[8],kK[6]+kK[7]+kK[8]+kK[9]];var kR=[0,0,0,kS[0],kS[0],kS[0],kS[0]+kS[3],kS[0]+kS[3],kS[0]+kS[3],kS[0]+kS[3],kS[0]+kS[3]];this._allShadowLeft=kI-kK[6]-kK[7]-70;this._allShadowTop=kM-k0+30;var kJ=323-k0+90;var kT=740+kJ;var kP=function(k1){return"overflow: hidden; z-index: 1; position: absolute;left:"+kF[k1]+"px;top:"+kR[k1]+"px;width:"+kK[k1]+"px;height:"+kS[k1]+"px;"};var kL=this.map.infoWindowDoms;if(kL&&kL.shadowDivs){for(var kQ=0;kQ<kL.shadowDivs.length;kQ++){kL.shadowDivs[kQ].style.cssText=kP(kQ)}kL.shadowDivs[3].firstChild.style.left="-"+kJ+"px";kL.shadowDivs[5].firstChild.style.left="-"+kT+"px"}this.setPosition()},setWidth:function(kF){kF=kF*1;if(!kF&&kF!==0||isNaN(kF)||kF<0){return}if(kF!==0){if(kF<220){kF=220}if(kF>730){kF=730}}this._config.width=kF;if(this._isMyDom()&&this.isOpen()){var kG=this;this.redraw(function(){kG.setPanToWithDelay()})}},setHeight:function(kF){kF=kF*1;if(!kF&&kF!==0||isNaN(kF)||kF<0){return}if(kF!==0){if(kF<60){kF=60}if(kF>650){kF=650}}this._config.height=kF;var kH=this.map;if(this._isMyDom()&&this.isOpen()){if(this._config.width!==0){kH.infoWindowDoms.contentDiv.style.width=this._config.width+"px"}var kG=this;this.redraw(function(){kG.setPanToWithDelay()})}},setMaxWidth:function(kF){kF=kF*1;if(!kF&&kF!==0||isNaN(kF)||kF<0){return}if(kF!==0){if(kF<220){kF=220}if(kF>730){kF=730}}this._config.maxWidth=kF;if(this.isWinMax){this.redraw()}},setTitle:function(kH){if(this.map===null){this._config.title=kH||"";return}var kG=this.map;if(kH===""){this._config.title=""}kH=kH||this._config.title;if(!this._isMyDom()){return}var kF=kG.infoWindowDoms.titleDiv;kF.innerHTML=kH;e9.show(kF)},setContent:function(kH){kH=kH||this.content;var kI=this.map;this.content=kH;if(!this._isMyDom()){return}if(this.isWinMax){return}var kG=kI.infoWindowDoms.contentDiv;var kF=kI.infoWindowDoms.maxContentDiv;if("[object String]"===Object.prototype.toString.call(kH)){kG.innerHTML=kH}else{kG.innerHTML="";kG.appendChild(kH)}if(this._config.width!==0){kG.style.width=this._config.width+"px"}kF.style.display="none";kG.style.display=""},setMaxContent:function(kG){if(!kG){kG=this._config.maxContent}else{this._config.maxContent=kG}var kH=this.map;if(!this._isMyDom()){return}var kF=kH.infoWindowDoms;kF.maxContentDiv.innerHTML=kG;if(!this.isWinMax){return}kF.contentDiv.style.display="none";kF.maxContentDiv.style.display=""},redraw:function(kR,kN){if(!this._isMyDom()){return}if(!kN&&!this.isOpen()){return}kR=kR||function(){};var kJ=this;var kM=100;var kK=kJ.map.infoWindowDoms;var kI=0;var kL=7;var kQ=20;if(b5()){kL=-1;kQ=25}if(this.isWinMax){var kP=kJ._config.maxWidth;function kF(){var kU=kI+kK.maxContentDiv.scrollHeight;kU=kU>kJ.map.height?kJ.map.height-60:kU;kP=kP<220?220:kP;kP=kP>600?600:kP;kU=kU<55?55:kU;kU=kU>440?440:kU;kJ._setWinSize(kP+32,kU+32);kK.contentMain.style.width=kP+"px";kK.contentMain.style.height=kU+"px";kK.closeButton.style.left=kP+kL+"px";kK.maxButton.style.left=kP-kQ+kL+"px";kK.contentMain.style.overflow="hidden";kK.titleDiv.style.width=kP+"px";kK.centerDiv.style.width=kP+"px";kK.popDom.style.width=kP+"px";kK.centerDiv.style.height=kU+"px";kK.tail.style.left=(Math.round(kP/2)-parseInt(kK.tail.style.width,10)/2)+"px";kK.bottomDiv.style.width=kP+"px";kJ.dispatchEvent(new fW("onresize"));kJ.setPanToWithDelay();kR()}if(this.isOpen()){kF()}else{setTimeout(kF,kM)}}else{var kT=kK.contentDiv.style;var kO=kK.titleDiv.style;var kG=kK.contentMain.style;kT.width=kG.width="auto";kT.height=kG.height="auto";kT.whiteSpace="nowrap";if(kK.popDom.style.display==="none"){kK.popDom.style.visibility="hidden";kK.shadowDom.style.visibility="hidden";this.show()}var kP=kK.contentMain.scrollWidth||0;kP=kJ._config.width===0?kP:kJ._config.width;kP=kP<220?220:kP;kP=kP>600?600:kP;kG.width=(kP-12)+"px";var kH;kH=kK.contentMain.scrollHeight||0;kH=kJ._config.height===0?kH:kJ._config.height;kJ._setWinSize(kP+32,kH+32);function kS(){kT.whiteSpace="";kG.overflowX=(kJ._config.width===0)?"hidden":"auto";kG.overflowY=(kJ._config.height===0)?"hidden":"auto";kH=kK.contentMain.scrollHeight||0;kH=kJ._config.height===0?kH:kJ._config.height;kH=kH<55?55:kH;kH=kH>440?440:kH;kJ._setWinSize(kP+32,kH+32);kK.popDom.style.visibility="";kK.shadowDom.style.visibility="";kG.height=kH+"px";kK.centerDiv.style.height=kH+"px";kK.tail.style.left=(Math.round(kP/2)-parseInt(kK.tail.style.width,10)/2)+"px";kK.tail.style.top=kH+32+"px";kK.bottomDiv.style.width=kP+"px";kK.titleDiv.style.width=kP+"px";kK.centerDiv.style.width=kP+"px";kK.popDom.style.width=kP+"px";kJ.dispatchEvent(new fW("onresize"));kJ.setPanToWithDelay();kR()}if(this.isOpen()){kS()}else{setTimeout(kS,kM)}}},setPosition:function(kP,kL){if(!this._isMyDom()){return}var kO=this.map.infoWindowDoms;var kI=this.overlay;var kM=this.map.pointToOverlayPixelIn(kI.getPoint(),{zoom:kL,center:kP});if((this.map._heading%360===0&&this.map._tilt===0)||!this.map._webglMapCamera){var kS=kI.getPoint();var kR=this.map.getZoomUnits(kL);var kN=kP||this.map.centerPoint;var kJ=this.map.width/2;var kQ;if(kS.lng*kN.lng<0){var kG=Math.abs(kS.lng-kN.lng);var kF=(fc._mc180X*2-kG)/kR;if(kN.lng<0){kQ=kJ-kF}else{kQ=kJ+kF}kM.x=kQ}}var kK=kI.getIcon();var kH=new fv(kM.x-kK.offset.width+kK.infoWindowOffset.width+kI.getOffset().width,kM.y-kK.offset.height+kK.infoWindowOffset.height+kI.getOffset().height);kO.popDom.style.left=this._allPopLeft+kH.x+e.WINDOWOFFSET[0]+"px";kO.popDom.style.top=this._allPopTop+kH.y+e.WINDOWOFFSET[1]+"px";kO.shadowDom.style.left=this._allShadowLeft+kH.x-2+"px";kO.shadowDom.style.top=this._allShadowTop+kH.y-15+"px"},setPanToWithDelay:function(kF){var kG=this;setTimeout(function(){kG.setPanTo()},kF||200)},setPanTo:function(){if(!this.overlay||!this.overlay.getPoint()||!this._config.enableAutoPan||!this._isMyDom()){return}var kV=this.map;var kN=kV.infoWindowDoms;var kH=kN.popDivs;var kW=kN.popDom;if(!kH||!kW){return}var kI=parseInt(T(kH,"content").style.width,10)+2;var kS=parseInt(e9.Dom.getComputedStyle(T(kH,"top"),"height"),10)+parseInt(e9.Dom.getComputedStyle(T(kH,"center"),"height"),10)+parseInt(e9.Dom.getComputedStyle(T(kH,"bottom"),"height"),10);var kQ=parseFloat(kW.style.left,10);var kK=parseFloat(kW.style.top,10);if(this.map._renderType==="webgl"){kQ+=parseInt(this.map.platform.style.left,10);kK+=parseInt(this.map.platform.style.top,10)}else{kQ+=this.map.offsetX;kK+=this.map.offsetY}var kM=new fv(kQ,kK);var kL=new fv(kI+kQ,kS+kK);var kT;var kR;if(this._config.height!==0&&document.all){if(!kV.temp.infoKey){kV.temp.infoKey=-1}kT=-kV.temp.infoKey;kV.temp.infoKey=-kV.temp.infoKey}kT=0;kR=0;var kF=10;var kG=this._config.margin[0];var kJ=this._config.margin[1];var kU=this._config.margin[2];var kO=this._config.margin[3];if(kM.x<kO){kT=-kM.x+kO}if(kM.y<kG){kR=-kM.y+kG}if(kL.x>kV.width-kJ){kT=kV.width-kL.x-kJ}if(kL.y>kV.height-kU){kR=kV.height-kL.y-kU}this._loadCollisions();var kP=this._config.collisions;if(kM.x<kP[0][0]&&kM.y<kP[0][1]){if(Math.abs(-kM.x+kP[0][0])<Math.abs(-kM.y+kP[0][1])){kT=-kM.x+kP[0][0]}else{if(kV.height-kP[0][1]-kP[3][1]<kS){kT=-kM.x+kP[0][0]}else{kR=-kM.y+kP[0][1]}}if(kV.width-kP[0][0]-kP[1][0]<kI&&kM.y<kP[1][1]){kR=-kM.y+kP[1][1]}}if(kL.x>kV.width-kP[1][0]&&kM.y<kP[1][1]){if(Math.abs(-kL.x+kV.width-kP[1][0])<Math.abs(-kM.y+kP[1][1])&&kV.width-kP[0][0]-kP[1][0]>=kI){kT=-kL.x+kV.width-kP[1][0]}else{kR=-kM.y+kP[1][1];if(kV.width-kP[0][0]-kP[1][0]<kI&&kV.width-kP[0][0]<kI){kT=-kM.x+kP[0][0]}}}if(kM.x<kP[3][0]&&kL.y>kV.height-kP[3][1]){if(Math.abs(-kM.x+kP[3][0])<Math.abs(-kL.y+kV.height-kP[3][1])&&(Math.abs(-kM.x+kP[3][0])<Math.abs(kR)&&kR!==0||kR===0)&&kV.width-kP[3][0]>=kI){kT=-kM.x+kP[3][0]}else{kR=-kL.y+kV.height-kP[3][1]}if(kV.height-kP[0][1]-kP[3][1]<kS&&kM.x<kP[0][0]){kT=-kM.x+kP[0][0]}}if(kL.x>kV.width-kP[2][0]&&kL.y>kV.height-kP[2][1]){if(Math.abs(-kL.x+kV.width-kP[2][0])<Math.abs(-kL.y+kV.height-kP[2][1])&&(Math.abs(-kL.x+kV.width-kP[2][0])<Math.abs(kR)&&kR!==0||kR===0)&&kV.width-kP[0][0]-kP[1][0]>=kI){kT=-kL.x+kV.width-kP[2][0]}else{if(kV.height-kP[1][1]-kP[2][1]>=kS){kR=-kL.y+kV.height-kP[2][1]}else{kR=-kM.y+kP[1][1]}if(kV.width-kP[0][0]-kP[2][0]<kI){kT=-kM.x+kP[0][0]}}}if(kT!==0||kR!==0){kV.panBy(kT,kR,{point:this.getPointIn()})}},_loadCollisions:function(){if(!this.map){return}var kG=this.map;this._config.collisions=[[10,10],[10,10],[10,10],[10,10]];var kP=this.map.container;for(var kN=0,kH=kP.children.length;kN<kH;kN++){var kK;var kQ;var kT=!!(typeof kP.children[kN]._anchor!=="undefined"&&kP.children[kN]._offset);if(kP.children[kN]._jsobj&&kP.children[kN]._jsobj instanceof gZ&&kP.children[kN]._jsobj.blockInfoWindow===true){kK=kP.children[kN]}else{if(kT){kK=kP.children[kN]}else{continue}}var kR=kK.offsetWidth;var kO=kK.offsetHeight;var kF=kK._jsobj;var kJ;var kM;if(!kF||kT){if(typeof kK._anchor!=="undefined"&&kK._offset&&cq(kK).display!=="none"&&cq(kK).visibility!=="hidden"){kJ=kK._offset;kM=kK._anchor}else{continue}}else{if(kF.isVisible()===false){continue}kJ=kF.getOffset();kM=kF.getAnchor()}switch(kM){case BMAP_ANCHOR_TOP_LEFT:kQ=0;break;case BMAP_ANCHOR_TOP_RIGHT:kQ=1;break;case BMAP_ANCHOR_BOTTOM_LEFT:kQ=3;break;case BMAP_ANCHOR_BOTTOM_RIGHT:kQ=2;break;default:break}var kL=kR+kJ.width+10;var kI=kO+kJ.height+10;var kS=this._config.collisions[kQ];this._config.collisions[kQ]=[kL>kS[0]?kL:kS[0],kI>kS[1]?kI:kS[1]]}},enableMaximize:function(){this._config.enableMaximize=true;if(this._isMyDom()){this.map.infoWindowDoms.maxButton.style.display="block"}},disableMaximize:function(){this._config.enableMaximize=false;if(this._isMyDom()){this.map.infoWindowDoms.maxButton.style.display="none"}},show:function(){if(!this._isMyDom()){return}var kG=this.map.infoWindowDoms;if(kG.popDom.style.display!=="none"){return}e9.show(kG.popDom);e9.show(kG.shadowDom);var kF=new fW("onopen");kF.point=this.getPoint();this.dispatchEvent(kF);this.redraw()},hide:function(){if(!this._isMyDom()){return false}var kG=this.map.infoWindowDoms;if(kG.popDom.style.display==="none"){return false}if(this._config.onClosing()===false){return false}e9.hide(kG.popDom);e9.hide(kG.shadowDom);if(this.isWinMax){this.isWinMax=false;kG.maxContentDiv.style.display="none";kG.contentDiv.style.display="";kG.maxButton.src=e.plusImg}var kF=new fW("onclose");kF.point=this.getPoint();this.dispatchEvent(kF);this.map.removeEventListener("click",this.map.temp._clickCloseHandler);this.map.temp._clickCloseBinded=false;this.decontrol();return true},maximize:function(){if(!this.map||!this.isOpen()||!this._config.enableMaximize||this.isWinMax){return}if(!this._isMyDom()){return}var kG=this.map.infoWindowDoms.maxButton;var kF=this;kF.isWinMax=true;kG.src=e.minusImg;kF.setMaxContent();kF.map.infoWindowDoms.maxContentDiv.style.display="block";kF.redraw();kF.dispatchEvent(new fW("onmaximize"));kF.setPanToWithDelay()},restore:function(){if(!this.map||!this.isOpen()||!this.isWinMax){return}if(!this._isMyDom()){return}this.isWinMax=false;var kF=this;var kG=kF.map.infoWindowDoms.maxButton;kG.src=e.plusImg;kF.setContent();kF.map.infoWindowDoms.maxContentDiv.style.display="none";kF.redraw();kF.dispatchEvent(new fW("onrestore"));kF.setPanToWithDelay()},_revert:function(){if(!this._isMyDom()){return}this.isWinMax=false;var kF=this.map.infoWindowDoms;kF.titleDiv.innerHTML="";kF.contentDiv.innerHTML="";kF.maxContentDiv.innerHTML="";kF.maxButton.src=e.plusImg},_setOverflow:function(){var kH=this.map;if(!this._isMyDom()){return}var kG=kH.infoWindowDoms;var kF=kG.contentMain.style;kG._overflowX=kF.overflowX;kG._overflowY=kF.overflowY;kF.overflowX="hidden";kF.overflowY="hidden"},_resetOverflow:function(){var kH=this.map;if(!this._isMyDom()||!kH.infoWindowDoms._overflowX||!kH.infoWindowDoms._overflowY){return}var kG=kH.infoWindowDoms;var kF=kG.contentMain.style;kF.overflowX=kG._overflowX;kF.overflowY=kG._overflowY;delete kG._overflowX;delete kG._overflowY},isOpen:function(){if(!this.map){return false}var kF=this.map.temp.infoWin;if(!kF){return false}if(!this._isMyDom()){return false}if(kF&&kF.overlay===this.overlay&&this.map.infoWindowDoms&&this.map.infoWindowDoms.popDom.style.display==="none"){return false}else{return true}},setMaxScene:function(kG){var kH=this;if(!this._isMyDom()){return}var kF=kH.map.infoWindowDoms;kF.maxButton.style.display="block";var kI=kF.maxButton;if(!!kG===!!this.isWinMax){return}if(kG){kH.isWinMax=true;kI.src=e.minusImg;kH.setMaxContent();kF.maxContentDiv.style.display="block"}else{kH.isWinMax=false;kI.src=e.plusImg;kH.setContent();kF.maxContentDiv.style.display="none"}this.redraw()},_draw:function(){if(this._visible===true&&this.overlay){this.overlay.openInfoWindow(this)}},_isMyDom:function(){return(this.map&&this.map.infoWindowDoms&&this.map.infoWindowDoms.hashCode===this.hashCode)}});eM.prototype.openInfoWindow=function(kI){if(this.map&&this.map.temp&&this.map.temp.infoWin instanceof i.SimpleInfoWindow){this.map.closeSimpleInfoWindow()}var kH=this.map;if(!kI||!this.map||!this.domElement||this.isVisible()===false||kI.toString()!=="InfoWindow"){return}var kG=kH.temp;if(kG.infoWin&&kG.infoWin.overlay&&kG.infoWin.overlay._fromMap){kH.closeInfoWindow()}if(kG.infoWin===kI&&kG.infoWin.isOpen()&&kG.infoWin.overlay===this){kI.setPanToWithDelay();return}kH.closeInfoWindow();this.infoWindow=kI;if(kG.infoWin==null||kG.infoWin!==kI){if(kH.infoWindowDoms){kH.infoWindowDoms.closeButton.onclick=null;kH.infoWindowDoms.maxButton.onclick=null}kG.infoWin=kI;kI.initialize(this)}else{kI.redraw(null,true)}e9.BaseClass.call(kI,kI.hashCode);if(!kG._clickCloseHandler){kG._clickCloseHandler=function(kJ){if(kJ.overlay||(kJ.spots&&kJ.spots.length>0)){return}if(kH.temp.infoWin&&kH.temp.infoWin._config.enableCloseOnClick){kH.closeInfoWindow();kH.removeEventListener("spotclick",kG._clickCloseHandler);kG._clickCloseBinded=false}}}if(!kG._clickCloseBinded){setTimeout(function(){kH.addEventListener("spotclick",kG._clickCloseHandler);kG._clickCloseBinded=true},200)}if(kG._infoWin){delete kG._infoWin}kI.overlay=this;var kF=kH.infoWindowDoms;this.map.getPanes().floatPane.appendChild(kF.popDom);this.map.getPanes().floatShadow.appendChild(kF.shadowDom);kI.setPanToWithDelay();this.dispatchEvent(new fW("oninfowindowopen"))};eM.prototype.closeInfoWindow=function(){if(!this.map||!this.map.infoWindowDoms){return}var kG=this;if(kG.infoWindow&&kG.infoWindow.hashCode===kG.map.infoWindowDoms.hashCode){try{if(kG.infoWindow.hide()===true){kG.dispatchEvent(new fW("oninfowindowclose"));if(kG.map){kG.map.temp.infoWin=null}kG.infoWindow=null}}catch(kF){}}}})(bG);');
