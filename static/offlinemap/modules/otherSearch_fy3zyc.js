/**/﻿_jsload&&_jsload('otherSearch', 'function hv(i,e){var T=document.createElement("script");T.onload=function(kC){T.parentNode.removeChild(T);e&&e(kC)};T.src=i;document.getElementsByTagName("head")[0].appendChild(T)}e9.extend(c5.prototype,{getCurrentPosition:function(kF,kI){var kG=this;var T=false;kI=kI||{};kG.config={timeout:kI.timeout||kG.config.timeout,maximumAge:kI.maximumAge||kG.config.maximumAge,enableHighAccuracy:kI.enableHighAccuracy||kG.config.enableHighAccuracy,SDKLocation:kI.SDKLocation||kG.config.SDKLocation};var e=setTimeout(function(){if(T){return}kG.statusCode=BMAP_STATUS_TIMEOUT;i(null)},kG.config.timeout+2000);var kD=function(kJ){if(T||BMapGL===null){return}if(e){clearTimeout(e);e=null}if(kJ.point){kJ.point=js(kJ.point,BMapGL.coordType)}kG.geolocationInfo=kJ;kF.apply(kG,arguments);T=true};var i=function(kJ){if(T){return}if(e){clearTimeout(e);e=null}kG.geolocationInfo=kJ;kF.apply(kG,arguments);T=true};function kH(kJ){if(fh.checkUsability()){var kK=new fh({timeout:kG.config.timeout,maximumAge:kG.config.maximumAge,enableHighAccuracy:kG.config.enableHighAccuracy});kK.getCurrentPosition(function(kL){kD(kL)},function(kL){switch(kL.errorCode){case kL.ERR_PERMISSION_DENIED:kG.statusCode=BMAP_STATUS_PERMISSION_DENIED;i(null);break;case kL.ERR_INSECURE_ORIGINS:kG.statusCode=BMAP_STATUS_PERMISSION_DENIED;if(kG.config.enableHighAccuracy){kJ()}else{i(null)}break;case kL.ERR_POSITION_UNAVAILABLE:kG.statusCode=BMAP_STATUS_UNKNOWN_LOCATION;kJ();break;case kL.ERR_TIMEOUT:kG.statusCode=BMAP_STATUS_TIMEOUT;kJ();break}});return}}function kE(kJ){if(ec.checkUsability()){var kK=new ec({});kK.getCurrentPosition(function(kL){kD(kL)},function(kL){kJ()});return}kJ()}function kC(kJ){var kK=new ja({SDKLocation:kG.config.SDKLocation});kK.getCurrentPosition(function(kL){kD(kL)},function(){kJ()})}kC(function(){kH(function(){kE(function(){kG.statusCode=BMAP_STATUS_UNKNOWN_LOCATION;i(null)})})})},getStatus:function(){if(this.geolocationInfo){this.statusCode=BMAP_STATUS_SUCCESS}return this.statusCode}});c5.prototype.getCurrentPosition=c5.prototype.getCurrentPosition;c5.prototype.getStatus=c5.prototype.getStatus;function fh(e){this.config={timeout:e.timeout||1000*5,maximumAge:e.maximumAge||0,enableHighAccuracy:e.enableHighAccuracy||false};hQ.sendMessage(a1(4,5,1,1),["control","local","h5"])}fh.checkUsability=function(){if(navigator.geolocation){return true}return false};e9.extend(fh.prototype,{getCurrentPosition:function(e,i){var kC=function(kE){if(/BIDUBrowser/i.test(navigator.userAgent)){var kH=new bo();kH.getLocation(new cG(kE.coords["longitude"],kE.coords["latitude"]),function(kI){var kJ=new hR();kJ.accuracy=kE.coords["accuracy"]>1999?1999:kE.coords["accuracy"];kJ.longitude=kE.coords["longitude"];kJ.latitude=kE.coords["latitude"];kJ.point=new cG(kJ.longitude,kJ.latitude);if(kI&&kI.addressComponents){if(kI.addressComponents["province"]){kJ.address.province=kI.addressComponents["province"]}if(kI.addressComponents["city"]){kJ.address.city=kI.addressComponents["city"]}if(kI.addressComponents["district"]){kJ.address.district=kI.addressComponents["district"]}if(kI.addressComponents["street"]){kJ.address.street=kI.addressComponents["street"]}if(kI.addressComponents["streetNumber"]){kJ.address.street_number=kI.addressComponents["streetNumber"]}}e(kJ)});return}var kG=Math.floor(Math.random()*100000);var kF="_cbk"+kG;window.baidu=window.baidu||{};window.baidu[kF]=function(kJ){var kI={x:kJ.x,y:kJ.y};var kM=new cG(kI.x,kI.y);var kL=new hR();kL.accuracy=kE.coords["accuracy"]>1999?1999:kE.coords["accuracy"];kL.longitude=kM.lng;kL.latitude=kM.lat;kL.point=new cG(kM.lng,kM.lat);var kK=new bo();kK.getLocation(kM,function(kN){if(kN&&kN.addressComponents){var kO=kN.addressComponents;if(kO.province){kL.address.province=kO.province}if(kO.city){kL.address.city=kO.city}if(kO.district){kL.address.district=kO.district}if(kO.street){kL.address.street=kO.street}if(kO.streetNumber){kL.address.street_number=kO.streetNumber}}e(kL)})};var kD=["qt=coordtrans","x="+kE.coords["longitude"],"y="+kE.coords["latitude"],"from=0","to=4","callback=baidu."+kF];if(window._BMapSecurityConfig&&window._BMapSecurityConfig["serviceHost"]){hv(window._BMapSecurityConfig["serviceHost"]+"?"+kD.join("&"))}else{hv(E.apiHost+"/?"+kD.join("&"))}};var T=function(kD){var kE=new dC();if(kD.code===kD.PERMISSION_DENIED&&kD.message.indexOf("secure")===-1){kE.errorCode=kE.ERR_PERMISSION_DENIED;kE.errorMessage="用户拒绝定位请求"}if(kD.code===kD.POSITION_UNAVAILABLE){kE.errorCode=kE.ERR_POSITION_UNAVAILABLE;kE.errorMessage="定位不可用"}if(kD.message.indexOf("secure")>-1){kE.errorCode=kE.ERR_INSECURE_ORIGINS;kE.errorMessage="定位请求需要https环境"}if(kD.code===kD.TIMEOUT){kE.errorCode=kE.ERR_TIMEOUT;kE.errorMessage="定位超时"}i(kE)};navigator.geolocation.getCurrentPosition(kC,T,{enableHighAccuracy:this.config.enableHighAccuracy,timeout:this.config.timeout,maximumAge:this.config.maximumAge})}});function ec(e){this.config={extensions:1,coord:"bd09ll",coding:"utf-8",callback_type:"jsonp"};hQ.sendMessage(a1(4,5,1,2),["control","local","high"])}ec.checkUsability=function(){return true};e9.extend(ec.prototype,{getCurrentPosition:function(T,kD){var kE=Math.floor(Math.random()*100000);var kC="_cbk"+kE;window[kC]=function(kF){if(kF.result){if(kF.result["error"]===161){if(kF.content&&kF.content["location"]){var kG=new hR();kG.accuracy=kF.content["radius"];kG.longitude=kF.content["location"]["lng"];kG.latitude=kF.content["location"]["lat"];kG.point=new cG(kF.content["location"]["lng"],kF.content["location"]["lat"])}if(kF.content&&kF.content["address_component"]){if(kF.content["address_component"]["country"]){kG.address.country=kF.content["address_component"]["country"]}if(kF.content["address_component"]["province"]){kG.address.province=kF.content["address_component"]["province"]}if(kF.content["address_component"]["city"]){kG.address.city=kF.content["address_component"]["city"]}if(kF.content["address_component"]["district"]){kG.address.district=kF.content["address_component"]["district"]}if(kF.content["address_component"]["street"]){kG.address.street=kF.content["address_component"]["street"]}if(kF.content["address_component"]["street_number"]){kG.address.street_number=kF.content["address_component"]["street_number"]}}T(kG);return}else{if(kF.result["error"]===0){if(kF.content&&kF.content["location"]){var kG=new hR();kG.longitude=kF.content["location"]["lng"];kG.latitude=kF.content["location"]["lat"];kG.point=new cG(kF.content["location"]["lng"],kF.content["location"]["lat"])}if(kF.content&&kF.content["address_component"]){if(kF.content["address_component"]["country"]){kG.address.country=kF.content["address_component"]["country"]}if(kF.content["address_component"]["province"]){kG.address.province=kF.content["address_component"]["province"]}if(kF.content["address_component"]["city"]){kG.address.city=kF.content["address_component"]["city"]}if(kF.content["address_component"]["district"]){kG.address.district=kF.content["address_component"]["district"]}if(kF.content["address_component"]["street"]){kG.address.street=kF.content["address_component"]["street"]}if(kF.content["address_component"]["street_number"]){kG.address.street_number=kF.content["address_component"]["street_number"]}}T(kG);return}}}var kH=new dC();kH.errorCode=kH.ERR_POSITION_UNAVAILABLE;kH.errorMessage="请求IP地理定位信息失败";kD(kH)};var i="pc";if(b5()){i="mb"}if(window._BMapSecurityConfig&&window._BMapSecurityConfig["serviceHost"]){var e={qterm:i,coding:this.config.coding,coord:this.config.coord,extensions:this.config.extensions,callback_type:this.config.callback_type,qt:j7,}}else{var e={qterm:i,coding:this.config.coding,coord:this.config.coord,extensions:this.config.extensions,callback_type:this.config.callback_type,ak:eZ,qt:j7,}}kl.request(function(kG,kF){window[kC](kG)},e)}});function ja(e){this.config={SDKLocation:e.SDKLocation||false}}e9.extend(ja.prototype,{getCurrentPosition:function(i,kC){var kD=Math.floor(Math.random()*100000);var T="_cbk"+kD;window.baidu=window.baidu||{};window.baidu[T]=function(kF){kF=JSON.parse(kF);if(kF&&kF.errorcode===1){kD=Math.floor(Math.random()*100000);T="_cbk"+kD;window.baidu=window.baidu||{};window.baidu[T]=function(kH){var kG={x:kH.x,y:kH.y};var kK=new cG(kG.x,kG.y);var kJ=new hR();kJ.longitude=kK.lng;kJ.latitude=kK.lat;kJ.point=new cG(kK.lng,kK.lat);var kI=new bo();kI.getLocation(kK,function(kL){var kM=kL.addressComponents;if(kM){if(kM.province){kJ.address.province=kM.province}if(kM.city){kJ.address.city=kM.city}if(kM.district){kJ.address.district=kM.district}if(kM.street){kJ.address.street=kM.street}if(kM.streetNumber){kJ.address.street_number=kM.streetNumber}}i(kJ)})};var kE=["qt=coordtrans","x="+kF.longitude,"y="+kF.latitude,"from=0","to=4","callback=baidu."+T];if(window._BMapSecurityConfig&&window._BMapSecurityConfig["serviceHost"]){hv(window._BMapSecurityConfig["serviceHost"]+"/?"+kE.join("&"))}else{hv(E.apiHost+"/?"+kE.join("&"))}}else{kC()}};if(this.config.SDKLocation&&window.BaiduLocAssistant&&window.BaiduLocAssistant.sendMessage){var e={action:"requestLoc",callback:"baidu."+T};window.BaiduLocAssistant.sendMessage(JSON.stringify(e))}else{kC()}}});function hR(){this.accuracy=null;this.altitude=null;this.altitudeAccuracy=null;this.heading=null;this.latitude=null;this.longitude=null;this.speed=null;this.timestamp=null;this.point=null;this.address={country:"",city:"",city_code:0,district:"",province:"",street:"",street_number:""}}function dC(e){this.errorType="geolocation";this.errorMessage=e;this.errorCode=1;this.ERR_PERMISSION_DENIED=1;this.ERR_POSITION_UNAVAILABLE=2;this.ERR_TIMEOUT=3;this.ERR_INSECURE_ORIGINS}e9.extend(bo.prototype,{_asyncSearch:function(){for(var T=0,e=this._queryList.length;T<e;T++){var kC=this._queryList[T];this[kC.method].apply(this,kC.arguments)}delete this._queryList},getPoint:function(e,kD,kC){var T=this;kC=kC||"北京市";var i=/^[ \\s]*$/;if(i.test(e)){return}kl.request(function(kO){if(kO&&kO.result&&kO.result["type"]==fg){var kQ=kO.result;var kJ=kO.content;var kN=null;var kP=null;if(kQ){if(kQ.error==0&&kJ&&kJ.coord){var kL=kJ.coord["x"];var kK=kJ.coord["y"];var kF=kJ.cn;var kG=kJ.sc;var kM=kJ.wd;var kH=kJ.prc;var kI=kJ.fuzzy_score;var kE=kJ.catalog;kN=new cG(kL,kK);kN=jy.convertMC2LL(kN);kN=js(kN,BMapGL.coordType);kP={city:kF,citycode:kG,address:kM,precise:kH,confidence:kI,level:kE}}}kD&&kD(kN,kP)}},{qt:f5,wd:e,cn:kC})},getLocation:function(i,kG,kD){if(!(i instanceof cG||i instanceof cA)&&kG){kG(null);return}var kC=this;i=gb(i,BMapGL.coordType);var i=jy.convertLL2MC(i);var e=i.lng;var kF=i.lat;var kD=kD||{};var T=kD.poiRadius||100;var kE=kD.numPois||10;kl.request(function(kX){var kK=null;if(kX&&kX.result&&kX.result["type"]==iN){var kN=kX.result;var kU=kX.content;var kM;var kO={};var kP=[];var kR;if(kN.error==0&&kU){var kY=kU.address_detail;var kV=kY.city;if(kY){kO.streetNumber=kY.street_number;kO.street=kY.street;kO.district=kY.district;kO.city=kV;kO.province=kY.province}kR=kU.point;var kT=new cG(kR.x,kR.y);kT=jy.convertMC2LL(kT);kT=js(kT,BMapGL.coordType);var kJ=kU.surround_poi;if(kJ&&kJ.length){for(var kW=0,kS=kJ.length;kW<kS;kW++){var kI={},kL=kJ[kW];kI.title=kL.name;kI.uid=kL.uid;var kQ=new cG(kL.point["x"],kL.point["y"]);kQ=js(kQ,BMapGL.coordType);kQ=jy.convertMC2LL(kQ);kI.point=kQ;kI.city=kV;kI._poiType=kL.poiType;kI.type=BMAP_POI_TYPE_NORMAL;kI.address=kL.addr;kI.postcode=kL.zip||null;kI.phoneNumber=kL.tel||null;var kH=kI._poiType;if(kH.length!==0){kI.tags=kH.split(",")}kP.push(kI)}}kK={point:kT,address:kU.address,addressComponents:kO,surroundingPois:kP,business:kU.business,content:kU}}}kG&&kG(kK)},{qt:d7,x:e,y:kF,dis_poi:T,poi_num:kE,latest_admin:"1"})}});e9.extend(fx.prototype,{_asyncSearch:function(){for(var T=0,e=this._queryList.length;T<e;T++){var kC=this._queryList[T];this[kC.method].apply(this,kC.arguments)}delete this._queryList},get:function(kC,e){var kE={};kE.boundaries=[];if(kC==="中国"||kC==="全国"||kC==="中华人民共和国"){e&&e(kE);return}var kF=this;var T=["119.590757,23.808251;119.268804,23.41408;119.422881,23.163397;119.758632,23.201668;119.726437,23.588002;119.70804,23.763808;119.645949,23.797671","121.642055,25.312114;121.752439,25.169879;121.945611,25.186621;121.991604,25.052618;122.055995,24.985561;121.872022,24.834547;121.88122,24.624496;121.899617,24.498294;121.798432,24.270807;121.697247,24.135805;121.642055,23.958396;121.504076,23.288798;121.439685,23.178281;121.310904,22.991042;121.255712,22.812068;121.053342,22.624316;120.933759,22.290847;121.016547,21.990891;120.86017,21.887901;120.648601,21.947988;120.584211,22.376429;120.289854,22.51325;120.11508,22.939931;120.013895,23.118734;119.9771,23.543483;120.372642,24.11892;120.694595,24.641313;121.126931,25.119638;121.559268,25.337197;121.623658,25.345557","120.38414,22.372151;120.423234,22.355038;120.372642,22.307967;120.347346,22.329365;120.351945,22.355038;120.356544,22.363595","121.506375,22.696888;121.552369,22.660607;121.517874,22.611506;121.469581,22.64353;121.464981,22.690486;121.492577,22.701155","121.589163,22.100236;121.600661,22.050934;121.623658,22.012338;121.637456,21.939406;121.596062,21.93726;121.550069,22.014483;121.499476,22.044502;121.501776,22.102379;121.54087,22.102379","122.08819,25.668005;122.110037,25.488627;121.911116,25.435387;122.027249,25.658625;122.057144,25.669047","123.686455,25.955273;123.730149,25.909524;123.58527,25.699264;123.454189,25.743012;123.557674,25.817972;123.594468,25.84711","124.589072,25.924082;124.60172,25.894964;124.564926,25.902244;124.567226,25.929282;124.571825,25.930321","115.973388,21.36321;116.152762,21.298566;116.152762,21.164878;116.148163,21.039704;116.056176,21.000836;115.863004,21.035386;115.835409,21.143304;115.830809,21.26839;115.844607,21.358902;115.922796,21.36321","118.474702,24.527161;118.4862,24.509276;118.491949,24.487706;118.498848,24.46771;118.501148,24.448764;118.501148,24.435079;118.492524,24.422972;118.481026,24.411916;118.467228,24.406125;118.443082,24.39928;118.41721,24.386643;118.378116,24.379797;118.314301,24.369264;118.28728,24.371898;118.247035,24.378217;118.230363,24.377164;118.202192,24.376111;118.182645,24.375584;118.167122,24.375584;118.159073,24.378744;118.156199,24.389802;118.160223,24.397174;118.167697,24.407178;118.17862,24.424024;118.194718,24.434026;118.210241,24.444027;118.232088,24.457185;118.254509,24.472972;118.275206,24.488232;118.289579,24.497702;118.316025,24.506646;118.35052,24.521375;118.368918,24.529791;118.386165,24.537154;118.405137,24.540836;118.425834,24.543465;118.449981,24.541888;118.460904,24.53768"];if(kC==="台湾省"||kC==="台湾"){for(var kD=0;kD<6;kD++){kE.boundaries[kD]=T[kD]}kE.boundaries[6]=T[9];e&&e(kE)}if(kC==="钓鱼岛"){for(var kD=0;kD<1;kD++){kE.boundaries[kD]=T[6]}e&&e(kE)}if(kC==="赤尾屿"){for(var kD=0;kD<1;kD++){kE.boundaries[kD]=T[7]}e&&e(kE)}kl.request(function(i){if((i&&i.content&&i.content.uid)||kC){var kG=(i.content&&i.content.uid)?i.content.uid:"";kl.request(function(kW){if(kW&&kW.content&&kW.content["geo"]){var kL=bP.parseGeo(kW.content["geo"],false);if(kL.geo&&kL.geo.length&&kL.geo.length>0){var k1=kL.geo.length;for(k3=0;k3<k1;k3++){var kK=kL.geo[k3];if(kK&&kK.length&&kK.length>0){var kT=kK.length-1;var k0=[];var kS=false;var kZ=0;var kY=0;for(var k2=0;k2<kT;k2+=2){var kQ=kK[k2];var kN=kK[k2+1];var kX=new cG(kQ,kN);kX=jy.convertMC2LL(kX);if(k2<kT-3){var kI=kK[k2+2];var kH=kK[k2+3];var kV=new cG(kI,kH);kV=jy.convertMC2LL(kV)}var kU=function(k7,k6){if(k7.lng>109&&k7.lng<113&&k7.lat>15&&k7.lat<19){if((k7.lng-k6.lng)>1&&(k7.lat-k6.lat<-1)){kS=true;kZ=k2/2}if((k7.lng-k6.lng)<-1&&(k7.lat-k6.lat>1)){kS=true;kY=k2/2}}};if(kC.indexOf("全国")>-1||kC.indexOf("中国")>-1||kC.indexOf("中华人民共和国")>-1){var kP=function(k6){return((k6.lng>=117.546263&&k6.lng<=118.711042)&&(k6.lat>=38.697981&&k6.lat<=38.91302))};var kJ=function(k6){return((k6.lng>=113.576516&&k6.lng<=113.638822)&&(k6.lat>=22.146067&&k6.lat<=22.156645))};if(kP(kX)||kJ(kX)){k0.length=0;break}kU(kX,kV)}if(kC.indexOf("海南")>-1){kU(kX,kV)}k0.push(kX.lng+", "+kX.lat)}if(kS===true){if(kZ>kY){var k4=kZ;kZ=kY;kY=k4}var kR=k0;var kO=k0.splice(kZ+1);var kM=kO.splice(kY-kZ);kR=kR.concat(kM);kE.boundaries.push(kR.join(";"));kE.boundaries.push(kO.join(";"));kS=false;continue}if(k0.length!==0){kE.boundaries.push(k0.join(";"))}}}}}var k5=kE.boundaries.length;if((kC==="中国"||kC==="全国"||kC==="中华人民共和国")&&kE.boundaries.length>0){for(var k3=0;k3<T.length-1;k3++){kE.boundaries[k5+k3]=T[k3]}}e&&e(kE)},{qt:jp,num:1000,l:10,uid:kG,adname:kC})}else{e&&e(kE)}},{qt:L,wd:kC})},parsebdStr:function(kI,kM){var kE={};kE.boundaries=[];var kC=bP.parseGeo(kI,false);if(kC.geo&&kC.geo.length&&kC.geo.length>0){var e=kC.geo.length;for(var kF=0;kF<e;kF++){var T=kC.geo[kF];if(T&&T.length&&T.length>0){var kK=T.length-1;var kI=[];for(var kD=0;kD<kK;kD+=2){var kL=T[kD];var kJ=T[kD+1];var kO=new cG(kL,kJ);kO=jy.convertMC2LL(kO);if(kD<kK-3){var kH=T[kD+2];var kG=T[kD+3];var kN=new cG(kH,kG);kN=jy.convertMC2LL(kN)}kI.push(kO.lng+", "+kO.lat)}if(kI.length!==0){kE.boundaries.push(kI.join(";"))}}}}kM&&kM(kE)},_parseGeoSpecial:function(kF){var kI=this;var kC=[];if(typeof(kF)!="string"){return kC}var T=kF.split("|");var kM=T[2];var kE=kM.split(";");for(var kG=0;kG<kE.length-1;kG++){var kL=kE[kG];var kH=[];var e=kL.split(",");for(var kD=0;kD<e.length;kD+=2){var kK=e[kD];var kJ=e[kD+1];var kN=new cG(kK,kJ);kN=jy.convertMC2LL(kN);kH.push(kN.lng+", "+kN.lat)}kC.push(kH.join(";"))}return kC}});e9.extend(fq.prototype,{_asyncSearch:function(){for(var T=0,e=this._queryList.length;T<e;T++){var kC=this._queryList[T];this[kC.method].apply(this,kC.arguments)}delete this._queryList},get:function(i){var e=this;kl.request(function(kE){if(kE&&kE.content&&kE.status===0){var kG=kE.content;var kH=e._opts.renderOptions.map;var kI=kH?kH.getZoom():5;var kD=kG.address_detail["city"];var kF=kG.address_detail["city_code"];var kC=new cG(kG.point.x,kG.point.y);kI=bP.getBestLevel(kI,kH);if(kH){kH.centerAndZoom(kC,kI)}var T={center:kC,level:kI,name:kD,code:kF};i&&i(T)}else{i&&i({})}},{qt:iM})}});');
